{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","useState","question","setQuestion","newQuestion","setNewQuestion","id","uuid","text","answers","setAnswers","votes","setVotes","selectedAnswers","setSelectedAnswers","console","log","data","labels","map","answer","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","yAxes","ticks","beginAtZero","min","max","Object","keys","forEach","key","maxVotes","xAxes","callback","value","length","substr","useEffect","document","title","className","disabled","placeholder","name","onChange","e","target","type","aria-label","aria-describedby","onClick","width","height","viewBox","fill","xmlns","fillRule","d","newAnswers","handleChangeAnswer","filter","newVotes","assign","handleRemoveAnswer","concat","checked","includes","newSelectedAnswers","item","push","handleSelectedAnswers","htmlFor","total","totalVotes","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7d42613e.chunk.js","sourcesContent":["import './App.css';\nimport { v4 as uuid } from 'uuid';\nimport React, {useState, useEffect} from \"react\";\nimport { Bar } from 'react-chartjs-2';\nimport 'bootstrap/dist/css/bootstrap.min.css'; \n\nfunction App() {\n  const [question, setQuestion] = useState('')\n  const [newQuestion, setNewQuestion] = useState('')\n  const [answers, setAnswers] = useState([\n    {id: uuid(), text: ''}, {id: uuid(), text: ''}\n  ])\n  const [votes, setVotes] = useState({})\n  const [selectedAnswers, setSelectedAnswers] = useState([])\n\n  const handleNewQuestion = (e) => {\n    setNewQuestion(e.target.value)\n  }\n  const handleUpdateQuestion = () => {\n    setQuestion(newQuestion)\n    setNewQuestion('')\n  }\n  const handleAddAnswer = () => {\n    setAnswers(answers.concat([{\n      id: uuid(),\n      text: ''\n    }]))\n  }\n  const handleChangeAnswer = (id, e) => {\n    const newAnswers = answers.map((answer) => {\n      if (answer.id === id) answer.text = e.target.value;\n      return answer\n    })\n    setAnswers(newAnswers)\n  }\n  const handleRemoveAnswer = (id) => {\n    setAnswers(answers.filter(answer => id !== answer.id))\n    const newVotes = Object.assign({}, votes)\n    delete newVotes[id];\n    setVotes(newVotes);\n  }\n  const handleVotes = () => {\n    const newVotes = Object.assign({}, votes)\n    selectedAnswers.forEach((item) => {\n      newVotes[item] = newVotes[item] || 0;\n      newVotes[item]++;\n    })\n    setVotes(newVotes);\n    setSelectedAnswers([])       \n  }\n\n  const handleReset = () => {\n    setNewQuestion('')\n    setQuestion('')\n    setAnswers([\n      {id: uuid(), text: ''}, {id: uuid(), text: ''}\n    ])\n    setVotes({});\n    setSelectedAnswers([])\n  };\n  const handleSelectedAnswers = (id, e) => {\n    let newSelectedAnswers = selectedAnswers.concat()\n    if (newSelectedAnswers.includes(id)) {\n      newSelectedAnswers = newSelectedAnswers\n        .filter(item => item !== id)\n    } else {\n      newSelectedAnswers.push(id)\n    }\n    setSelectedAnswers(newSelectedAnswers)\n  }\n  console.log(selectedAnswers)\n  \n  const totalVotes = () => {\n    let total = 0;\n    Object.keys(votes).forEach((key) => {\n      total += votes[key]\n    })\n    return total\n  }\n  const maxVotes = () => {\n    let max = 30;\n    Object.keys(votes).forEach((key) => {\n      if (votes[key] > max) max = votes[key]\n    })\n    return max + 10;\n  }\n\n  const data = {\n    labels: answers.map(answer => answer.text),\n    datasets: [\n      {\n        label: '# of Votes',\n        data: answers.map((answer) => {return votes[answer.id]}),\n        backgroundColor: [\n          'rgba(255, 99, 132, 0.2)',\n          'rgba(54, 162, 235, 0.2)',\n          'rgba(255, 206, 86, 0.2)',\n          'rgba(75, 192, 192, 0.2)',\n          'rgba(153, 102, 255, 0.2)',\n          'rgba(255, 159, 64, 0.2)',\n          'rgba(255, 102, 255, 0.2)',\n          'rgba(119, 119, 119, 0.2)',\n          'rgba(51, 0, 255, 0.2)',\n          'rgba(204, 51, 255,0.2)'\n\n        ],\n        borderColor: [\n          'rgba(255, 99, 132, 1)',\n          'rgba(54, 162, 235, 1)',\n          'rgba(255, 206, 86, 1)',\n          'rgba(75, 192, 192, 1)',\n          'rgba(153, 102, 255, 1)',\n          'rgba(255, 159, 64, 1)',\n          'rgba(255, 102, 255, 1)',\n          'rgba(119, 119, 119, 1)',\n          'rgba(51, 0, 255, 1)',\n          'rgba(204, 51, 255,1)'\n        ],\n        borderWidth: 1,\n      },\n    ],\n  }\n\n  const options = {\n    scales: {\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            max: maxVotes()\n          }\n        }\n      ],\n      xAxes: [\n        {\n          ticks: {\n            callback: function(value) {\n              if (value.length > 20) {\n                return value.substr(0, 20) + '...'; //truncate\n              } else {\n                return value\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\n\n  useEffect(() => {\n    document.title = \"Poll App\";\n  }, []);\n\n  return (\n    <div className=\"App container-fluid\">\n      <header className=\"App-header\">\n        <h1>Sir Vote-a-lot - <small>enjoy!</small></h1>\n      </header>\n      <div className=\"row\">\n        <div className=\"col-sm-3\">\n          <div className=\"card d-flex flex-column h-100\">\n            <div className=\"card-body d-flex flex-column justify-content-between\">\n              <h5 className=\"card-title\">Your question</h5>\n              <div className=\"input-group mb-3\">\n                <input \n                  disabled={newQuestion.length >= 80}\n                  placeholder=\"What's your poll question?\"\n                  name=\"pollQuestion\"\n                  value={newQuestion}\n                  onChange={handleNewQuestion}\n                  type=\"text\"\n                  className=\"form-control\"\n                  aria-label=\"Poll Question\"\n                  aria-describedby=\"pollQuestion\"\n                />\n                <button className=\"btn btn-outline-secondary\" type=\"button\" id=\"pollQuestion\" onClick={handleUpdateQuestion}>Update</button>\n              </div>        \n              <div>\n                <h5 className=\"d-inline-block\">Your answers</h5>\n                {answers.length <= 2 &&\n                  <p className=\"float-right text-warning d-inline-block\">\n                  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-exclamation-circle-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fillRule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\"/>\n                  </svg> you need at least 2</p>\n                }\n              </div>\n              {answers.map((answer) => {\n                return (\n                  <div key={answer.id} className=\"input-group mb-3\">\n                    <input \n                      disabled={answer.text.length >= 80}\n                      value={answer.text}\n                      onChange={(e) => {\n                        handleChangeAnswer(answer.id, e)\n                      }}\n                      text=\"text\"\n                      className=\"form-control\"\n                      placeholder=\"Your Answer Here\"\n                      aria-label=\"Answers\"\n                      aria-describedby={\"answer\" + answer.id}\n                    />\n                    <div className=\"input-group-append\">\n                      {answers.length > 2 &&\n                        <button type=\"button\" className=\"btn btn-outline-secondary\" id={\"answer\" + answer.id} onClick={() => handleRemoveAnswer(answer.id)}>&times;</button>\n                      }\n                    </div>\n                  </div>\n                )\n              })}\n              <div className=\"text-right align-self-end\">\n                <p className=\"small\">{answers.length} /10 possible answers</p>\n                <button type=\"button\" className=\"btn btn-secondary  mr-3\" onClick={handleReset}>Reset</button>\n                {answers.length < 10 &&\n                 <button type=\"button\" className=\"btn btn-primary\" onClick={handleAddAnswer}>Add Answer</button>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-sm-3\">\n          <div className=\"card d-flex flex-column h-100\">\n            <div className=\"card-body d-flex flex-column justify-content-between\">\n              <div className=\"card-title text-wrap\">\n                <h5>{question}</h5> \n                <p className=\"small\">You can select multiple answers</p>\n              </div>\n              {answers.map((answer) => {\n                return (\n                  <div key={answer.id} className=\"form-check\">\n                    <input\n                      disabled={answers.length < 2}\n                      type=\"checkbox\"\n                      checked={selectedAnswers.includes(answer.id)}\n                      onChange={(e) => handleSelectedAnswers(answer.id, e)}\n                      className=\"form-check-input\"\n                      id={\"vote\" + answer.id}\n                    />\n                    <label className=\"form-check-label d-block text-wrap\" htmlFor={\"vote\" + answer.id}>{answer.text}</label>\n                  </div>\n                )\n              })}\n              <button type=\"button\" className=\"btn btn-primary align-self-end\" onClick={handleVotes}>Vote</button>\n              {/* <h2>Result</h2>         \n              <br />\n              {answers.map((answer) => {\n                return (\n                  <div key={answer.id}>\n                    {answer.text}: {votes[answer.id] || 0}\n                    <br />\n                  </div>\n                )\n              })} */}\n            </div>\n          </div>\n        </div>\n        <div className=\"col-sm-6\">\n          <div className=\"card d-flex flex-column h-100\">\n              <div className=\"card-body d-flex flex-column justify-content-between\">\n                <h5 className=\"card-title\">{question}</h5>\n                <Bar data={data} options={options} />\n                <div className=\"mt-auto\">Total votes: {totalVotes()}</div>\n              </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}